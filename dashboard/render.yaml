services:
  # Backend Service
  - type: web
    name: dashboard-backend
    env: node
    plan: free
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      - key: NODE_ENV
        value: production
      - key: API_PORT
        value: 10000
      - key: CORS_ORIGIN
        value: https://graceful-platypus.netlify.app
      - key: DATABASE_URL
        sync: false
      - key: JWT_SECRET
        sync: false
      - key: PUSHER_APP_ID
        sync: false
      - key: PUSHER_KEY
        sync: false
      - key: PUSHER_SECRET
        sync: false
      - key: PUSHER_CLUSTER
        sync: false

  # Phishing Viewer Service (PHP - User Interface)
  - type: web
    name: phishing-viewer-php
    env: docker
    plan: free
    rootDir: user_interface
    envVars:
      - key: DATABASE_URL
        sync: false
      - key: PUSHER_APP_ID
        sync: false
      - key: PUSHER_KEY
        sync: false
      - key: PUSHER_SECRET
        sync: false
      - key: PUSHER_CLUSTER
        sync: false

